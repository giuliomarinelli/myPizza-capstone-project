<div class="footer-bottom d-flex justify-content-center align-items-center">
  <div class="dark-design form-width">
    <form [formGroup]="loginForm" (submit)="performLogin()">
      @if(scope === 'checkout'){<h5 class="h5 text-center text-accent mb-2">Accedi e procedi al checkout</h5>}
      <div class="illustration">
        <i class="bi bi-lock"></i>
      </div>
      <div class="form-group mb-2">
        <input [ngClass]="{'form-control': true, 'is-valid': isValid('email'), 'is-invalid': isInvalid('email')}"
          type="email" formControlName="email" placeholder="Email" (keydown)="validLogin = true">
      </div>
      <div class="form-group mb-1">
        <input [ngClass]="{'form-control': true, 'is-valid': isValid('password'), 'is-invalid': isInvalid('password')}"
          type="password" formControlName="password" placeholder="Password" (keydown)="validLogin = true">
      </div>
      <div class="feedback">
        @if(!valid) {
        <p class="m-0 mb-2 invalid feedback-h">{{errorMsg}}</p>
        }
        @else if (!validLogin) {
        <p class="m-0 mb-2 invalid feedback-h">{{loginErrorMsg}}</p>
        }
        @else {
        <p class="m-0 mb-2 feedback-h"></p>
        }
      </div>
      <div class="form-group mb-3"><button class="btn btn-primary btn-block w-100" [disabled]="submit" type="submit">@if(submit){<div class="spinner-grow-sm spinner-border text-light" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>}@else{Log In}</button></div>
      <div>
        <div class="form-check forgot d-flex justify-content-center gap-2">
          <input class="form-check-input" type="checkbox" id="restore" formControlName="restore">
          <label class="form-check-label" for="restore">
            Ricordami
          </label>
        </div>
        <p class="m-0 mb-2 forgot">oppure</p>
        <div class="form-group m-0"><a class="btn btn-outline-info w-100 btn-block" [routerLink]="'/registrati'"
          [queryParams]="{ref: _btoa(refUrl), SCOPE: scope}">Registrati</a>
        </div>
      </div>
    </form>
  </div>
</div>

